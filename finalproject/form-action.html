<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Form Data â€” FTN</title>
  <meta name="description" content="Form action page that displays submitted FTN survey data." />
  <meta name="author" content="Feed The Nation" />
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%231a5e3f'/%3E%3Cpath d='M30 60 L50 30 L70 60 Z' fill='%23f2c94c'/%3E%3C/svg%3E" />
  <link rel="stylesheet" href="styles/styles.css" />
</head>
<body>
  <header class="site-header">
    <div class="topbar">
      <div class="brand">
        <a href="index.html" class="logo" aria-label="Feed The Nation Home">
          <svg width="36" height="36" viewBox="0 0 100 100" aria-hidden="true">
            <rect width="100" height="100" fill="#1a5e3f"></rect>
            <path d="M30 60 L50 30 L70 60 Z" fill="#f2c94c"></path>
          </svg>
          <span class="site-title">Feed The Nation</span>
        </a>
      </div>
      <nav class="main-nav" role="navigation" aria-label="Main Navigation">
        <button class="hamburger" aria-expanded="false" aria-controls="nav-list" aria-label="Menu">
          <span class="hamburger-lines"></span>
        </button>
        <ul id="nav-list" class="nav-list">
          <li><a href="index.html">Home</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="resources.html">Resources</a></li>
          <li><a href="form-action.html" class="active">Form Data</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="site-main narrow">
    <h1>Submitted Form Data</h1>
    <p class="muted">This page displays the survey data passed in the query string (URLSearchParams).</p>

    <div id="form-output" class="form-output" aria-live="polite">
      <!-- JS outputs the submitted values here -->
    </div>

    <p><a href="resources.html" class="btn">Back to Resources</a></p>
  </main>

  <script>
    // form action display logic (not an ES module so it works standalone)
    (function () {
      const params = new URLSearchParams(window.location.search);
      const output = document.getElementById('form-output');

      if (!params.toString()) {
        output.innerHTML = '<p>No form data submitted yet. Use the survey on the Resources page.</p>';
        return;
      }

      const entries = Array.from(params.entries());
      const dl = document.createElement('dl');

      entries.forEach(([key, val]) => {
        const dt = document.createElement('dt');
        dt.textContent = key;
        const dd = document.createElement('dd');
        dd.textContent = val;
        dl.appendChild(dt);
        dl.appendChild(dd);
      });

      output.appendChild(dl);
    })();
  </script>

  <link rel="stylesheet" href="styles/styles.css" />
</body>
</html>
