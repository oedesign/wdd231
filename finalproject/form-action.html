<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Form Submission â€” Feed The Nation</title>
  <meta name="description" content="Form submission details.">
  <meta name="author" content="Your Name">
  <link rel="stylesheet" href="styles/styles.css" />
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a class="brand" href="index.html">Feed The Nation</a>
      <nav class="nav" aria-label="Main navigation">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="support.html">Support</a></li>
          <li><a href="donate.html">Donate</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="container">
    <section aria-labelledby="result-title">
      <h1 id="result-title">Form Submission</h1>
      <div id="results" class="form-results" aria-live="polite">
        <!-- populated by JS -->
      </div>
      <p><a href="donate.html">Back to form</a></p>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-inner">
      <p>&copy; <span id="year"></span> Feed The Nation</p>
    </div>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
    const params = new URLSearchParams(window.location.search);
    const results = document.getElementById('results');

    if ([...params].length === 0) {
      results.innerHTML = '<p>No form data found. Please submit the form first.</p>';
    } else {
      const entries = [];
      for (const [k, v] of params.entries()) {
        entries.push(`<dt>${k}</dt><dd>${escapeHtml(v)}</dd>`);
      }
      results.innerHTML = `<dl class="result-list">${entries.join('')}</dl>`;
    }

    // basic escaping
    function escapeHtml(str) {
      return String(str).replace(/[&<>"']/g, function (m) {
        return { '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;' }[m];
      });
    }
  </script>
</body>
</html>
