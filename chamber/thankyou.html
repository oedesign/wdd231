<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Thank You — Membership Application</title>
  <style>
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
      background:#f4f7fb;
      color:#0b1830;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:28px;
    }
    .card{
      width:100%;
      max-width:760px;
      background:white;
      border-radius:12px;
      padding:22px;
      box-shadow:0 8px 32px rgba(12,20,40,0.08);
    }
    h1{margin:0 0 6px 0;}
    p.lead{color:#40507a;margin:0 0 18px 0;}
    dl{display:grid;grid-template-columns:160px 1fr;gap:10px 18px;color:#123;}
    dt{font-weight:700;color:#1a2b48}
    dd{margin:0;color:#233142}
    .muted{color:#64708a;font-size:.95rem;margin-top:14px}
    a.button{
      display:inline-block;margin-top:16px;background:#0b6efd;color:white;padding:10px 14px;border-radius:8px;text-decoration:none;
    }
  </style>
</head>
<body>
  <main class="card" id="main">
    <h1>Thank you for applying!</h1>
    <p class="lead">We received your application. Below are the values you submitted (required fields):</p>

    <section aria-labelledby="summaryTitle">
      <h2 id="summaryTitle" class="sr-only">Submission summary</h2>
      <dl id="summaryList">
        <dt>First name</dt><dd id="out-firstName">—</dd>
        <dt>Last name</dt><dd id="out-lastName">—</dd>
        <dt>Email</dt><dd id="out-email">—</dd>
        <dt>Mobile</dt><dd id="out-mobile">—</dd>
        <dt>Business / Organization</dt><dd id="out-organization">—</dd>
        <dt>Form loaded (timestamp)</dt><dd id="out-timestamp">—</dd>
      </dl>
    </section>

    <p class="muted">If you need to make changes, please <a href="index.html">return to the form</a> and submit again.</p>
    <a class="button" href="index.html">Back to application</a>
  </main>

  <script>
    // Parse query string and display required fields.
    (function displaySubmitted(){
      const params = new URLSearchParams(window.location.search);

      function out(key, elId) {
        const el = document.getElementById(elId);
        const val = params.get(key);
        if (!el) return;
        if (!val) {
          el.textContent = '—';
          return;
        }
        // For safety, escape output (simple)
        el.textContent = val;
      }

      out('firstName','out-firstName');
      out('lastName','out-lastName');
      out('email','out-email');
      out('mobile','out-mobile');
      out('organization','out-organization');

      // timestamp may be in ISO local format - show as-is but also make it more human if possible
      const tsRaw = params.get('timestamp');
      const outTs = document.getElementById('out-timestamp');
      if (tsRaw) {
        // Try to parse as local ISO-like string "YYYY-MM-DDTHH:MM:SS"
        let human = tsRaw;
        try {
          // insert timezone offset by treating it as local: Date constructor will treat "YYYY-MM-DDTHH:MM:SS" as local
          const d = new Date(tsRaw);
          if (!isNaN(d.getTime())) {
            human = d.toLocaleString(undefined, {dateStyle:'medium', timeStyle:'short'});
          }
        } catch(e){}
        outTs.textContent = human;
      } else {
        outTs.textContent = '—';
      }

      // For accessibility: move focus to the heading so screen reader users hear the notification
      document.getElementById('main').focus?.();
    })();
  </script>
</body>
</html>
